{"version":3,"sources":["assets/beep.mp3","js/helpers.js","js/model.js","js/api.js","components/Navigator.jsx","components/ResultOptions.jsx","components/Box.jsx","components/Wifi.jsx","components/Home.jsx","components/Modal.jsx","components/Config.jsx","components/WifiConfig.jsx","components/App.jsx","index.js"],"names":["getSavedStorage","key","defaultVal","JSON","parse","window","localStorage","getItem","setSavedStorage","obj","setItem","stringify","removeFromStorage","target","values","filter","x","beepSound","Audio","beep","initial","pxWidth","cmWidth","boxes","size","time","ready","alarm","limit","model","setPxWidth","action","state","setCmWidth","setBoxes","setSize","setTime","clock","Date","setClock","network","setNetwork","localhost","location","hostname","remotehost","sendResult","payload","a","console","log","url","axios","post","response","data","networkScan","get","networkSave","ssid","pass","getDeviceId","getCommit","Navigator","to","className","icon","faHome","faTools","ResultOptions","handleNegative","handlePositive","handleInvalid","useEffect","buttonHandler","e","length","test","preventDefault","document","addEventListener","removeEventListener","onClick","Box","setReady","setFree","id","barcode","useState","counter","setCounter","status","setStatus","useStoreState","ratio","sizePx","parseInt","boxStyle","height","width","minHeight","minWidth","handleStart","handleStop","play","style","max","value","Wifi","faWifi","Home","useStoreActions","elements","Array","keys","initBoxes","forEach","element","push","start","numberCode","setNumberCode","code","setCode","message","setMessage","setBarcode","display","setDisplay","now","lastTime","setLastTime","testBoxes","setTestBoxes","setId","tempBoxes","handleResponse","find","end","handleSuccess","handleError","error","appendToStorage","currentTests","map","availableBox","indexOf","includes","recordedValues","recorded","record","then","res","scannerHandler","interval","setInterval","navigator","onLine","clearInterval","result","catch","Modal","active","setActive","title","confirm","setAction","Config","navigate","useNavigate","loading","setLoading","power","setPower","rpiId","setRpiId","commitDate","setCommitDate","actions","pxRef","setPxRef","cmRef","setCmRef","boxesRef","setBoxesRef","sizeRef","setSizeRef","timeRef","setTimeRef","commit","date","type","placeholder","onChange","setTimeout","faPowerOff","WifiConfig","networks","setNetworks","ssidRef","useRef","passRef","ref","current","n","snr","store","createStore","App","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cc33bb07.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/beep.94ec08ca.mp3\";","import beep from \"../assets/beep.mp3\";\r\n\r\nexport const getSavedStorage = (key, defaultVal) => {\r\n  return JSON.parse(window.localStorage.getItem(key)) || defaultVal[key];\r\n};\r\n\r\nexport const setSavedStorage = (key, obj) => {\r\n  window.localStorage.setItem(key, JSON.stringify(obj));\r\n};\r\n\r\nexport const appendToStorage = (key, obj) => {\r\n  const values = getSavedStorage(key, { [key]: [] });\r\n  values.push(obj);\r\n  setSavedStorage(key, values);\r\n};\r\n\r\nexport const removeFromStorage = (key, obj, target) => {\r\n  const values = getSavedStorage(key, { [key]: [] });\r\n  setSavedStorage(\r\n    key,\r\n    values.filter((x) => x[target] !== obj[target])\r\n  );\r\n};\r\n\r\nexport const beepSound = new Audio(beep);\r\n","import { action } from \"easy-peasy\";\r\nimport { getSavedStorage } from \"./helpers\";\r\n\r\nconst initial = {\r\n  pxWidth: 1366,\r\n  cmWidth: 41,\r\n  boxes: 10,\r\n  size: [7, 2],\r\n  time: {\r\n    ready: 15,\r\n    alarm: 19,\r\n    limit: 20,\r\n  },\r\n};\r\n\r\nconst model = {\r\n  pxWidth: getSavedStorage(\"pxWidth\", initial),\r\n  setPxWidth: action((state, pxWidth) => {\r\n    state.pxWidth = pxWidth;\r\n  }),\r\n\r\n  cmWidth: getSavedStorage(\"cmWidth\", initial),\r\n  setCmWidth: action((state, cmWidth) => {\r\n    state.cmWidth = cmWidth;\r\n  }),\r\n\r\n  boxes: getSavedStorage(\"boxes\", initial),\r\n  setBoxes: action((state, boxes) => {\r\n    state.boxes = boxes;\r\n  }),\r\n\r\n  size: getSavedStorage(\"size\", initial),\r\n  setSize: action((state, size) => {\r\n    state.size = size;\r\n  }),\r\n\r\n  time: getSavedStorage(\"time\", initial),\r\n  setTime: action((state, time) => {\r\n    state.time = time;\r\n  }),\r\n\r\n  clock: Date(),\r\n  setClock: action((state, clock) => {\r\n    state.clock = clock;\r\n  }),\r\n\r\n  network: false,\r\n  setNetwork: action((state, network) => {\r\n    state.network = network;\r\n  }),\r\n};\r\n\r\nexport default model;\r\n","import axios from \"axios\";\r\n\r\nconst localhost = `http://${window.location.hostname}:9999`;\r\nconst remotehost = `http://${window.location.hostname}:10000`;\r\n\r\nexport const sendResult = async (payload) => {\r\n  console.log(\"... sending results:\", payload);\r\n  const url = `${remotehost}/result`;\r\n  const response = await axios.post(url, payload);\r\n  return response.data;\r\n};\r\n\r\nexport const networkScan = async () => {\r\n  console.log(\"... getting events\");\r\n  const url = `${localhost}/network/scan`;\r\n  const response = await axios.get(url);\r\n  return response.data;\r\n};\r\n\r\nexport const networkSave = async (ssid, pass) => {\r\n  console.log(\"... configure wifi\");\r\n  const url = `${localhost}/network/save`;\r\n  const response = await axios.post(url, { ssid, pass });\r\n  return response.data;\r\n};\r\n\r\nexport const shutdown = async () => {\r\n  console.log(\"... shutting down\");\r\n  const url = `${localhost}/shutdown`;\r\n  const response = await axios.post(url);\r\n  return response.data;\r\n};\r\n\r\nexport const restart = async () => {\r\n  console.log(\"... restarting\");\r\n  const url = `${localhost}/restart`;\r\n  const response = await axios.post(url);\r\n  return response.data;\r\n};\r\n\r\nexport const getDeviceId = async () => {\r\n  console.log(\"... get device ID\");\r\n  const url = `${localhost}/device/id`;\r\n  const response = await axios.get(url);\r\n  console.log(response.data);\r\n  return response.data;\r\n};\r\n\r\nexport const getCommit = async () => {\r\n  console.log(\"... get git commit\");\r\n  const url = `${localhost}/git/commit`;\r\n  const response = await axios.get(url);\r\n  return response.data;\r\n};\r\n","import { Link } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTools, faHome } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst Navigator = ({ to }) => {\r\n  return (\r\n    <Link to={to} className=\"navigator\">\r\n      {to === \"/home\" ? (\r\n        <FontAwesomeIcon icon={faHome} />\r\n      ) : (\r\n        <FontAwesomeIcon icon={faTools} />\r\n      )}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default Navigator;\r\n","import { useEffect } from \"react\";\r\n\r\nconst ResultOptions = ({ handleNegative, handlePositive, handleInvalid }) => {\r\n  useEffect(()=>{\r\n    const buttonHandler = (e) => {\r\n      const key = e.key\r\n      const numbers = /\\d/\r\n      if (key.length === 1 && !numbers.test(key)) {\r\n        if (key === 'A') handleNegative();\r\n        if (key === 'B') handlePositive();\r\n        if (key === 'C') handleInvalid();\r\n      }\r\n      if (key === \"F5\") e.preventDefault();\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", buttonHandler);\r\n    \r\n    return () => {\r\n      document.removeEventListener(\"keydown\", buttonHandler);\r\n    }\r\n\r\n// eslint-disable-next-line\r\n  },[])\r\n\r\n  return (\r\n    <div className=\"field is-grouped mt-4\">\r\n      <button\r\n        onClick={handleNegative}\r\n        className=\"button is-large is-outlined is-success\"\r\n      >\r\n        Negative\r\n      </button>\r\n      <button\r\n        onClick={handlePositive}\r\n        className=\"button is-large ml-4 is-outlined is-danger\"\r\n      >\r\n        Positive\r\n      </button>\r\n      <button\r\n        onClick={handleInvalid}\r\n        className=\"button is-large ml-4 is-outlined is-warning\"\r\n      >\r\n        Invalid\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\nexport default ResultOptions;\r\n","import { useStoreState } from \"easy-peasy\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { beepSound } from \"../js/helpers\";\r\n\r\nconst Box = ({ test, setReady, setFree }) => {\r\n  const { id, barcode } = test;\r\n  const [counter, setCounter] = useState(0);\r\n  const [status, setStatus] = useState(\"free\"); // free - counting - finished - overtime\r\n\r\n  const size = useStoreState((state) => state.size);\r\n  const pxWidth = useStoreState((state) => state.pxWidth);\r\n  const cmWidth = useStoreState((state) => state.cmWidth);\r\n  const clock = useStoreState((state) => state.clock);\r\n  const time = useStoreState((state) => state.time);\r\n  const { ready, limit, alarm } = time;\r\n\r\n  const ratio = pxWidth / cmWidth;\r\n  const sizePx = [parseInt(size[0] * ratio), parseInt(size[1] * ratio)];\r\n\r\n  const boxStyle = {\r\n    height: sizePx[1],\r\n    width: sizePx[0],\r\n    minHeight: sizePx[1],\r\n    minWidth: sizePx[0],\r\n  };\r\n\r\n  const handleStart = () => {\r\n    setStatus(\"counting\");\r\n  };\r\n\r\n  const handleStop = () => {\r\n    setStatus(\"free\");\r\n    setCounter(0);\r\n    setReady(id, false);\r\n    setFree(id);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (status !== \"free\") {\r\n      setCounter(counter + 1);\r\n    }\r\n    if (counter >= ready) {\r\n      setStatus(\"finished\");\r\n      setReady(id, true);\r\n    }\r\n    if (counter >= limit) setStatus(\"overtime\");\r\n    if (counter >= alarm) beepSound.play();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [clock]);\r\n\r\n  useEffect(() => {\r\n    if (barcode !== null) handleStart();\r\n    else handleStop();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [barcode]);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={`out-box animate__animated has-background-${\r\n          (status === \"free\" && \"success\") ||\r\n          (status === \"counting\" && \"warning\") ||\r\n          (status === \"finished\" && \"danger\") ||\r\n          (status === \"overtime\" && \"danger\")\r\n        } ${status === \"overtime\" && \"animate__flash animate__infinite\"}`}\r\n      >\r\n        <div\r\n          className={`is-flex is-flex-centered has-background-black is-flex-column`}\r\n          style={boxStyle}\r\n        >\r\n          <p className=\"help is-success box-code is-size-4\">{barcode}</p>\r\n          <div className=\"field is-grouped\">\r\n            <button\r\n              className=\"button m-1 is-small is-rounded\"\r\n              onClick={handleStart}\r\n            >\r\n              {\">\"}\r\n            </button>\r\n            <button\r\n              className=\"button m-1 is-small is-rounded\"\r\n              onClick={handleStop}\r\n            >\r\n              {\"[]\"}\r\n            </button>\r\n            <button className=\"button m-1 is-small is-rounded\">\r\n              {counter}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <progress\r\n          className={`progress is-info mt-2`}\r\n          max={ready}\r\n          value={counter}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Box;\r\n","import { useStoreState } from \"easy-peasy\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faWifi } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Wifi = () => {\r\n  const network = useStoreState((state) => state.network);\r\n\r\n  return (\r\n    <Link to={\"/wifi\"} className=\"wifi\">\r\n      <FontAwesomeIcon\r\n        icon={faWifi}\r\n        className={network ? \"has-text-success\" : \"has-text-grey\"}\r\n      />\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default Wifi;\r\n","import { useStoreActions, useStoreState } from \"easy-peasy\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getDeviceId, sendResult } from \"../js/api\";\r\nimport {\r\n  appendToStorage,\r\n  getSavedStorage,\r\n  removeFromStorage,\r\n} from \"../js/helpers\";\r\nimport Navigator from \"./Navigator\";\r\nimport ResultOptions from \"./ResultOptions\";\r\nimport Box from \"./Box\";\r\nimport Wifi from \"./Wifi\";\r\n\r\nconst Home = () => {\r\n  const boxes = useStoreState((state) => state.boxes);\r\n  const clock = useStoreState((state) => state.clock);\r\n  const network = useStoreState((state) => state.network);\r\n  const setClock = useStoreActions((action) => action.setClock);\r\n  const setNetwork = useStoreActions((action) => action.setNetwork);\r\n  const elements = [...Array(parseInt(boxes)).keys()];\r\n  const initBoxes = [];\r\n  elements.forEach((element) => {\r\n    initBoxes.push({\r\n      id: element,\r\n      barcode: null,\r\n      ready: false,\r\n      start: null,\r\n    });\r\n  });\r\n\r\n  const [numberCode, setNumberCode] = useState(\"\");\r\n  const [code, setCode] = useState(\"\");\r\n  const [message, setMessage] = useState(\"Scan a test\");\r\n  const [barcode, setBarcode] = useState(\"\");\r\n  const [display, setDisplay] = useState(false);\r\n  const [lastTime, setLastTime] = useState(Date.now());\r\n\r\n  const [testBoxes, setTestBoxes] = useState(initBoxes);\r\n  const [id, setId] = useState(\"\");\r\n\r\n  const setReady = (id, ready) => {\r\n    let tempBoxes = [...testBoxes];\r\n    tempBoxes[id].ready = ready;\r\n  };\r\n\r\n  const setFree = (id) => {\r\n    let tempBoxes = [...testBoxes];\r\n    tempBoxes[id].barcode = null;\r\n    setTestBoxes(tempBoxes);\r\n  };\r\n\r\n  const handleResponse = () => {\r\n    setDisplay(false);\r\n    setMessage(\"\");\r\n    console.log(barcode);\r\n    let target = testBoxes.find((x) => x.barcode === barcode);\r\n    setFree(target.id);\r\n    setReady(target.id, false);\r\n    let end = Date.now();\r\n    return { start: target.start, end };\r\n  };\r\n\r\n  const handleSuccess = (payload) => {\r\n    console.log(\"... data send:\", payload);\r\n    removeFromStorage(\"recorded\", payload, \"barcode\");\r\n  };\r\n\r\n  const handleError = (payload) => {\r\n    console.error(\"... data not send\", payload);\r\n    console.error(\"... save to local storage\", payload);\r\n    appendToStorage(\"recorded\", payload);\r\n  };\r\n\r\n  const handleInvalid = () => {\r\n    const { start, end } = handleResponse();\r\n    const payload = { barcode, result: \"invalid\", id, start, end };\r\n    sendResult(payload)\r\n      .then(() => handleSuccess(payload))\r\n      .catch(() => handleError(payload));\r\n  };\r\n  const handlePositive = () => {\r\n    const { start, end } = handleResponse();\r\n    const payload = { barcode, result: \"positive\", id, start, end };\r\n    sendResult(payload)\r\n      .then(() => handleSuccess(payload))\r\n      .catch(() => handleError(payload));\r\n  };\r\n  const handleNegative = () => {\r\n    const { start, end } = handleResponse();\r\n    const payload = { barcode, result: \"negative\", id, start, end };\r\n    sendResult(payload)\r\n      .then(() => handleSuccess(payload))\r\n      .catch(() => handleError(payload));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const now = Date.now();\r\n    setCode(`${now - lastTime > 500 ? \"\" : code}${numberCode}`);\r\n    setLastTime(now);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [numberCode]);\r\n\r\n  useEffect(() => {\r\n    const now = Date.now();\r\n    if (now - lastTime > 500 && code !== \"\") {\r\n      setBarcode(code);\r\n      let tempBoxes = [...testBoxes];\r\n      let currentTests = tempBoxes.map((x) => x.barcode);\r\n      let availableBox = currentTests.indexOf(null);\r\n      let isNew = !currentTests.includes(code);\r\n\r\n      if (isNew) {\r\n        setDisplay(false);\r\n        if (availableBox >= 0) {\r\n          testBoxes[availableBox].barcode = code;\r\n          testBoxes[availableBox].start = Date.now();\r\n          setMessage(\"Starting timer for test: \" + code);\r\n        } else {\r\n          setMessage(\"No box available for: \" + code);\r\n        }\r\n      } else {\r\n        let box = testBoxes.find((x) => x.barcode === code);\r\n        if (box.ready) {\r\n          setMessage(`Test ${code} is ready, select an option:`);\r\n          setDisplay(true);\r\n        } else {\r\n          setMessage(`Test ${code} is not ready`);\r\n        }\r\n      }\r\n\r\n      setTestBoxes(tempBoxes);\r\n      setCode(\"\");\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [clock]);\r\n\r\n  useEffect(() => {\r\n    if (network) {\r\n      // Send data recorded in local storage\r\n      let recordedValues = getSavedStorage(\"recorded\", {\r\n        recorded: [],\r\n      });\r\n      console.log(\"Send data from storage\");\r\n      recordedValues.forEach((record) => {\r\n        console.log(\"...sending data:\", record);\r\n        sendResult(record).then(() =>\r\n          removeFromStorage(\"recorded\", record, \"barcode\")\r\n        );\r\n      });\r\n    }\r\n  }, [network]);\r\n\r\n  useEffect(() => {\r\n    getDeviceId().then((res) => setId(res.id));\r\n\r\n    const scannerHandler = (e) => {\r\n      const key = e.key\r\n      const numbers = /\\d/\r\n      if (key.length === 1 && numbers.test(key)) setNumberCode(key);\r\n      if (key === \"F5\") e.preventDefault();\r\n    };\r\n\r\n    const interval = setInterval(() => {\r\n      setClock(Date());\r\n    }, 500);\r\n\r\n    document.addEventListener(\"keydown\", scannerHandler);\r\n    window.addEventListener(\"offline\", () => setNetwork(false));\r\n    window.addEventListener(\"online\", () => setNetwork(true));\r\n    setNetwork(window.navigator.onLine);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", scannerHandler);\r\n      window.removeEventListener(\"offline\", () => setNetwork(false));\r\n      window.removeEventListener(\"online\", () => setNetwork(true));\r\n      clearInterval(interval);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      <header>\r\n        <p className=\"has-text-centered title mt-4\">{message}</p>\r\n        {display && (\r\n          <ResultOptions\r\n            handleNegative={handleNegative}\r\n            handlePositive={handlePositive}\r\n            handleInvalid={handleInvalid}\r\n          />\r\n        )}\r\n      </header>\r\n      <div className=\"box-container\">\r\n        {testBoxes.map((x) => (\r\n          <Box key={x.id} test={x} setReady={setReady} setFree={setFree} />\r\n        ))}\r\n        <Navigator\r\n          to=\"/config\"\r\n          onClick={() => console.log(\"Clicked Navigator\")}\r\n        />\r\n        <Wifi />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","const Modal = ({ active, setActive, title, confirm, setAction }) => {\r\n  return (\r\n    <div className={`modal ${active && \"is-active\"}`}>\r\n      <div className=\"modal-background\"></div>\r\n      <div className=\"modal-card\">\r\n        <header className=\"modal-card-head\">\r\n          <p className=\"modal-card-title\">{title}</p>\r\n        </header>\r\n\r\n        <footer className=\"modal-card-foot is-flex-end\">\r\n          <button\r\n            className=\"button is-success is-outlined\"\r\n            onClick={() => setAction()}\r\n          >\r\n            {confirm}\r\n          </button>\r\n          <button className=\"button\" onClick={() => setActive(false)}>\r\n            Cancel\r\n          </button>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { useStoreState, useStoreActions } from \"easy-peasy\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { setSavedStorage } from \"../js/helpers\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { faPowerOff } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { getCommit, getDeviceId } from \"../js/api\";\r\nimport Navigator from \"./Navigator\";\r\nimport Modal from \"./Modal\";\r\n\r\nconst Config = () => {\r\n  let navigate = useNavigate();\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [power, setPower] = useState(false);\r\n  const [rpiId, setRpiId] = useState(\"\");\r\n  const [commitDate, setCommitDate] = useState(\"\");\r\n\r\n  const pxWidth = useStoreState((state) => state.pxWidth);\r\n  const cmWidth = useStoreState((state) => state.cmWidth);\r\n  const boxes = useStoreState((state) => state.boxes);\r\n  const size = useStoreState((state) => state.size);\r\n  const time = useStoreState((state) => state.time);\r\n\r\n  const setPxWidth = useStoreActions((actions) => actions.setPxWidth);\r\n  const setCmWidth = useStoreActions((actions) => actions.setCmWidth);\r\n  const setBoxes = useStoreActions((actions) => actions.setBoxes);\r\n  const setSize = useStoreActions((actions) => actions.setSize);\r\n  const setTime = useStoreActions((actions) => actions.setTime);\r\n\r\n  const [pxRef, setPxRef] = useState(pxWidth);\r\n  const [cmRef, setCmRef] = useState(cmWidth);\r\n  const [boxesRef, setBoxesRef] = useState(boxes);\r\n  const [sizeRef, setSizeRef] = useState(size);\r\n  const [timeRef, setTimeRef] = useState(time);\r\n\r\n  const handleSave = () => {\r\n    setPxWidth(pxRef);\r\n    setCmWidth(cmRef);\r\n    setBoxes(boxesRef);\r\n    setSize(sizeRef);\r\n    setTime(timeRef);\r\n\r\n    setSavedStorage(\"pxWidth\", pxRef);\r\n    setSavedStorage(\"cmWidth\", cmRef);\r\n    setSavedStorage(\"boxes\", boxesRef);\r\n    setSavedStorage(\"size\", sizeRef);\r\n    setSavedStorage(\"time\", timeRef);\r\n    setMessage(\" ... going home\");\r\n    setLoading(true);\r\n    setTimeout(() => navigate(\"/home\"), 1000);\r\n  };\r\n\r\n  const handlePower = () => {\r\n    console.log(\"... powering off\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    getDeviceId().then((res) => setRpiId(res.id));\r\n    getCommit().then((res) => setCommitDate(res.commit.date));\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Navigator to=\"/home\" />\r\n      <div className=\"is-flex is-flex-centered config\">\r\n        <div>\r\n          <h1 className=\"subtitle has-text-centered\">Configuration</h1>\r\n          <div className=\"field\">\r\n            <label className=\"label\">Number of boxes</label>\r\n            <div className=\"control\">\r\n              <input\r\n                className=\"input\"\r\n                type=\"number\"\r\n                placeholder=\"10\"\r\n                value={boxesRef}\r\n                onChange={(e) => setBoxesRef(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"field\">\r\n            <label className=\"label\">Width of screen in pixels.</label>\r\n            <div className=\"control\">\r\n              <input\r\n                className=\"input\"\r\n                type=\"number\"\r\n                placeholder=\"1366\"\r\n                value={pxRef}\r\n                onChange={(e) => setPxRef(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"field\">\r\n            <label className=\"label\">Width of screen in centimeters.</label>\r\n            <div className=\"control\">\r\n              <input\r\n                className=\"input\"\r\n                type=\"number\"\r\n                placeholder=\"41\"\r\n                value={cmRef}\r\n                onChange={(e) => setCmRef(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"field\">\r\n            <label className=\"label\">Size of box in cm.</label>\r\n            <div className=\"control is-flex\">\r\n              <input\r\n                className=\"input\"\r\n                type=\"number\"\r\n                placeholder=\"7\"\r\n                value={sizeRef[0]}\r\n                onChange={(e) => setSizeRef([e.target.value, sizeRef[1]])}\r\n                title=\"Width\"\r\n              />\r\n              <input\r\n                className=\"input ml-4\"\r\n                type=\"number\"\r\n                placeholder=\"2\"\r\n                value={sizeRef[1]}\r\n                onChange={(e) => setSizeRef([sizeRef[0], e.target.value])}\r\n                title=\"Height\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"field\">\r\n            <label className=\"label\">Process time in min.</label>\r\n            <div className=\"control is-flex\">\r\n              <input\r\n                className=\"input\"\r\n                type=\"number\"\r\n                placeholder=\"15\"\r\n                value={timeRef.ready}\r\n                title=\"Ready to read time\"\r\n                onChange={(e) =>\r\n                  setTimeRef({ ...timeRef, ready: e.target.value })\r\n                }\r\n              />\r\n              <input\r\n                className=\"input ml-4\"\r\n                type=\"number\"\r\n                placeholder=\"19\"\r\n                value={timeRef.alarm}\r\n                title=\"Alarm time\"\r\n                onChange={(e) =>\r\n                  setTimeRef({ ...timeRef, alarm: e.target.value })\r\n                }\r\n              />\r\n              <input\r\n                className=\"input ml-4\"\r\n                type=\"number\"\r\n                placeholder=\"20\"\r\n                value={timeRef.limit}\r\n                title=\"Maximum time to get reading\"\r\n                onChange={(e) =>\r\n                  setTimeRef({ ...timeRef, limit: e.target.value })\r\n                }\r\n              />\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={handleSave}\r\n            className={`button is-success is-outlined mt-4 ${\r\n              loading && \"is-loading\"\r\n            }`}\r\n          >\r\n            Save\r\n          </button>\r\n          <p className=\"help\">{message}</p>\r\n          <div className=\"is-flex is-flex-centered m-4 \">\r\n            <FontAwesomeIcon\r\n              icon={faPowerOff}\r\n              className=\"has-text-danger pointer\"\r\n              size=\"lg\"\r\n              onClick={() => setPower(true)}\r\n            />\r\n            <Modal\r\n              active={power}\r\n              setActive={setPower}\r\n              setAction={handlePower}\r\n              title=\"Do you want to shutdown?\"\r\n              confirm=\"Shutdown\"\r\n            />\r\n          </div>\r\n          <div className=\"is-flex mt-4 is-flex-between\">\r\n            <p className=\"has-text-grey mt-4\">ID: {rpiId}</p>\r\n            <p className=\"has-text-grey mt-4\">Version: {commitDate}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Config;\r\n","import Navigator from \"./Navigator\";\r\nimport { useRef, useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { networkSave, networkScan } from \"../js/api\";\r\n\r\nconst WifiConfig = () => {\r\n  let navigate = useNavigate();\r\n  const [loading, setLoading] = useState(false);\r\n  const [networks, setNetworks] = useState([]);\r\n  const ssidRef = useRef();\r\n  const passRef = useRef();\r\n\r\n  const handleSave = () => {\r\n    setLoading(true);\r\n    networkSave(ssidRef.current.value, passRef.current.value);\r\n    setTimeout(() => navigate(\"/home\"), 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    networkScan().then((res) => setNetworks(res.networks));\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Navigator to=\"/home\" />\r\n      <div className=\"is-flex is-flex-centered config\">\r\n        <div>\r\n          <h1 className=\"subtitle has-text-centered\">Wifi Configuration</h1>\r\n          <div className=\"field\">\r\n            <label className=\"label\">SSID</label>\r\n            <div className=\"control\">\r\n              <input\r\n                className=\"input\"\r\n                type=\"text\"\r\n                placeholder=\"WiFi SSID\"\r\n                ref={ssidRef}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"field\">\r\n            <label className=\"label\">Password</label>\r\n            <div className=\"control\">\r\n              <input\r\n                className=\"input\"\r\n                type=\"text\"\r\n                placeholder=\"********\"\r\n                ref={passRef}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            onClick={handleSave}\r\n            className={`button is-success is-outlined mt-4 ${\r\n              loading && \"is-loading\"\r\n            }`}\r\n          >\r\n            Save\r\n          </button>\r\n          <p className=\"help\">{\"\"}</p>\r\n          <p className=\"mt-4 has-text-centered\">Available networks</p>\r\n          <table className=\"table is-striped is-fullwidth\">\r\n            <thead>\r\n              <tr>\r\n                <th> SSID </th>\r\n                <th> SNR </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {networks.map((n) => (\r\n                <tr>\r\n                  <td>{n.ssid}</td>\r\n                  <td>{n.snr}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WifiConfig;\r\n","import { Routes, Route } from \"react-router-dom\";\r\nimport { StoreProvider, createStore } from \"easy-peasy\";\r\nimport model from \"../js/model\";\r\nimport Home from \"./Home\";\r\nimport Config from \"./Config\";\r\nimport WifiConfig from \"./WifiConfig\";\r\n\r\nconst store = createStore(model);\r\n\r\nconst App = () => {\r\n  return (\r\n    <div>\r\n      <StoreProvider store={store}>\r\n        <Routes>\r\n          <Route path=\"home\" element={<Home />} />\r\n          <Route path=\"config\" element={<Config />} />\r\n          <Route path=\"wifi\" element={<WifiConfig />} />\r\n          <Route path=\"*\" element={<Home />} />\r\n        </Routes>\r\n      </StoreProvider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"./css/bulma-darkly.css\";\r\nimport \"./css/style.css\";\r\nimport \"animate.css\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}