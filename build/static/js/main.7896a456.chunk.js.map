{"version":3,"sources":["assets/beep.mp3","js/helpers.js","js/model.js","js/api.js","components/Navigator.jsx","components/ResultOptions.jsx","components/Box.jsx","components/Wifi.jsx","components/Home.jsx","components/Modal.jsx","components/Config.jsx","components/WifiConfig.jsx","components/App.jsx","index.js"],"names":["getSavedStorage","key","defaultVal","JSON","parse","window","localStorage","getItem","setSavedStorage","obj","setItem","stringify","removeFromStorage","target","values","filter","x","beepSound","Audio","beep","initial","pxWidth","cmWidth","boxes","size","time","ready","alarm","limit","model","setPxWidth","action","state","setCmWidth","setBoxes","setSize","setTime","clock","Date","setClock","network","setNetwork","message","setMessage","localhost","location","hostname","remotehost","sendResult","payload","a","console","log","url","axios","post","response","data","networkScan","get","networkSave","ssid","pass","getDeviceId","getCommit","Navigator","to","className","icon","faHome","faTools","ResultOptions","handleNegative","handlePositive","handleInvalid","handleMismatch","useStoreActions","useState","selection","setSelection","counter","setCounter","keyFlag","setKeyFlag","selectKey","setSelectKey","previousKey","isCommand","test","useEffect","buttonHandler","e","now","preventDefault","document","addEventListener","tic","setInterval","removeEventListener","clearInterval","onClick","disabled","Box","setReady","setFree","id","barcode","status","setStatus","useStoreState","ratio","sizePx","parseInt","boxStyle","height","width","minHeight","minWidth","handleStart","handleStop","play","style","max","value","Wifi","faWifi","Home","elements","Array","keys","initBoxes","forEach","element","push","start","numberCode","setNumberCode","code","setCode","setBarcode","display","setDisplay","lastTime","setLastTime","testBoxes","setTestBoxes","setId","tempBoxes","handleResponse","find","end","handleSuccess","handleError","error","appendToStorage","currentTests","map","availableBox","indexOf","includes","recordedValues","recorded","record","then","res","scannerHandler","length","interval","navigator","onLine","result","catch","Modal","active","setActive","title","confirm","setAction","Config","navigate","useNavigate","loading","setLoading","power","setPower","rpiId","setRpiId","commitDate","setCommitDate","actions","pxRef","setPxRef","cmRef","setCmRef","boxesRef","setBoxesRef","sizeRef","setSizeRef","timeRef","setTimeRef","commit","date","type","placeholder","onChange","setTimeout","faPowerOff","WifiConfig","networks","setNetworks","ssidRef","useRef","passRef","ref","current","n","snr","store","createStore","App","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.7896a456.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/beep.94ec08ca.mp3\";","import beep from \"../assets/beep.mp3\";\r\n\r\nexport const getSavedStorage = (key, defaultVal) => {\r\n  return JSON.parse(window.localStorage.getItem(key)) || defaultVal[key];\r\n};\r\n\r\nexport const setSavedStorage = (key, obj) => {\r\n  window.localStorage.setItem(key, JSON.stringify(obj));\r\n};\r\n\r\nexport const appendToStorage = (key, obj) => {\r\n  const values = getSavedStorage(key, { [key]: [] });\r\n  values.push(obj);\r\n  setSavedStorage(key, values);\r\n};\r\n\r\nexport const removeFromStorage = (key, obj, target) => {\r\n  const values = getSavedStorage(key, { [key]: [] });\r\n  setSavedStorage(\r\n    key,\r\n    values.filter((x) => x[target] !== obj[target])\r\n  );\r\n};\r\n\r\nexport const beepSound = new Audio(beep);\r\n","import { action } from \"easy-peasy\";\r\nimport { getSavedStorage } from \"./helpers\";\r\n\r\nconst initial = {\r\n  pxWidth: 1366,\r\n  cmWidth: 41,\r\n  boxes: 10,\r\n  size: [7, 2],\r\n  time: {\r\n    ready: 15,\r\n    alarm: 19,\r\n    limit: 20,\r\n  },\r\n};\r\n\r\nconst model = {\r\n  pxWidth: getSavedStorage(\"pxWidth\", initial),\r\n  setPxWidth: action((state, pxWidth) => {\r\n    state.pxWidth = pxWidth;\r\n  }),\r\n\r\n  cmWidth: getSavedStorage(\"cmWidth\", initial),\r\n  setCmWidth: action((state, cmWidth) => {\r\n    state.cmWidth = cmWidth;\r\n  }),\r\n\r\n  boxes: getSavedStorage(\"boxes\", initial),\r\n  setBoxes: action((state, boxes) => {\r\n    state.boxes = boxes;\r\n  }),\r\n\r\n  size: getSavedStorage(\"size\", initial),\r\n  setSize: action((state, size) => {\r\n    state.size = size;\r\n  }),\r\n\r\n  time: getSavedStorage(\"time\", initial),\r\n  setTime: action((state, time) => {\r\n    state.time = time;\r\n  }),\r\n\r\n  clock: Date(),\r\n  setClock: action((state, clock) => {\r\n    state.clock = clock;\r\n  }),\r\n\r\n  network: false,\r\n  setNetwork: action((state, network) => {\r\n    state.network = network;\r\n  }),\r\n\r\n  message: \"Scan a test\",\r\n  setMessage: action((state, message) => {\r\n    state.message = message;\r\n  }),\r\n};\r\n\r\nexport default model;","import axios from \"axios\";\r\n\r\nconst localhost = `http://${window.location.hostname}:9999`;\r\nconst remotehost = `http://${window.location.hostname}:10000`;\r\n\r\nexport const sendResult = async (payload) => {\r\n  console.log(\"... sending results:\", payload);\r\n  const url = `${remotehost}/result`;\r\n  const response = await axios.post(url, payload);\r\n  return response.data;\r\n};\r\n\r\nexport const networkScan = async () => {\r\n  console.log(\"... getting events\");\r\n  const url = `${localhost}/network/scan`;\r\n  const response = await axios.get(url);\r\n  return response.data;\r\n};\r\n\r\nexport const networkSave = async (ssid, pass) => {\r\n  console.log(\"... configure wifi\");\r\n  const url = `${localhost}/network/save`;\r\n  const response = await axios.post(url, { ssid, pass });\r\n  return response.data;\r\n};\r\n\r\nexport const shutdown = async () => {\r\n  console.log(\"... shutting down\");\r\n  const url = `${localhost}/shutdown`;\r\n  const response = await axios.post(url);\r\n  return response.data;\r\n};\r\n\r\nexport const restart = async () => {\r\n  console.log(\"... restarting\");\r\n  const url = `${localhost}/restart`;\r\n  const response = await axios.post(url);\r\n  return response.data;\r\n};\r\n\r\nexport const getDeviceId = async () => {\r\n  console.log(\"... get device ID\");\r\n  const url = `${localhost}/device/id`;\r\n  const response = await axios.get(url);\r\n  console.log(response.data);\r\n  return response.data;\r\n};\r\n\r\nexport const getCommit = async () => {\r\n  console.log(\"... get git commit\");\r\n  const url = `${localhost}/git/commit`;\r\n  const response = await axios.get(url);\r\n  return response.data;\r\n};\r\n","import { Link } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTools, faHome } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst Navigator = ({ to }) => {\r\n  return (\r\n    <Link to={to} className=\"navigator\">\r\n      {to === \"/home\" ? (\r\n        <FontAwesomeIcon icon={faHome} />\r\n      ) : (\r\n        <FontAwesomeIcon icon={faTools} />\r\n      )}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default Navigator;\r\n","import { useStoreActions } from \"easy-peasy\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst ResultOptions = ({ handleNegative, handlePositive, handleInvalid, handleMismatch }) => {\r\n  const setMessage = useStoreActions((action) => action.setMessage);\r\n  const [selection, setSelection] = useState(null);\r\n  const [counter, setCounter] = useState(3);\r\n  const [time, setTime] = useState();\r\n  const [keyFlag, setKeyFlag] = useState();\r\n  const [selectKey, setSelectKey] = useState();\r\n  let previousKey = null;\r\n  let counterVar = 3;\r\n\r\n  const isCommand = (key) => {\r\n    const commands =  /^[#|$|%]$/;\r\n    return commands.test(key);\r\n  }\r\n\r\n  useEffect(() => {\r\n    const buttonHandler = (e) => {\r\n      const key = e.key;\r\n\r\n      if (isCommand(key)) {\r\n        setSelectKey(key);\r\n        setKeyFlag(Date.now())\r\n        if (previousKey === null) {\r\n          // eslint-disable-next-line\r\n            previousKey = key;\r\n            setSelection(key);\r\n            setMessage(\"Press again to confirm:\");\r\n        } \r\n      }\r\n      if (key === \"F5\") e.preventDefault();\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", buttonHandler);\r\n\r\n    const tic = setInterval(() => {\r\n      setTime(Date.now())\r\n    }, 1000);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", buttonHandler);\r\n      clearInterval(tic)\r\n    };\r\n\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(()=>{\r\n    if (selection !== null) {\r\n      setCounter(counter - 1);\r\n      // eslint-disable-next-line\r\n      counterVar=counter-1\r\n    }\r\n    else {\r\n      setCounter(3);\r\n      // eslint-disable-next-line\r\n      counterVar=3;\r\n    }\r\n  }, [time])\r\n\r\n  useEffect(()=>{\r\n    if (counter <= 0 && isCommand(selectKey)) {\r\n      if (selectKey === \"#\" && selection === \"#\") handleNegative();\r\n      if (selectKey === \"$\" && selection === \"$\") handlePositive();\r\n      if (selectKey === \"%\" && selection === \"%\") handleInvalid();\r\n      if (selectKey !== selection) handleMismatch();\r\n    }\r\n    // eslint-disable-next-line\r\n  },[keyFlag])\r\n\r\n  return (\r\n    <div className=\"field is-grouped mt-4\">\r\n      {(selection === \"#\" || selection === null) && (\r\n        <button\r\n          onClick={handleNegative}\r\n          className=\"button is-large is-outlined is-success\"\r\n          disabled={selection !== null && counter > 0}\r\n        >\r\n          Not detected\r\n        </button>\r\n      )}\r\n      {(selection === \"$\" || selection === null) && (\r\n        <button\r\n          onClick={handlePositive}\r\n          className=\"button is-large ml-4 is-outlined is-danger\"\r\n          disabled={selection !== null && counter > 0}\r\n        >\r\n          Detected\r\n        </button>\r\n      )}\r\n      {(selection === \"%\" || selection === null) && (\r\n        <button\r\n          onClick={handleInvalid}\r\n          className=\"button is-large ml-4 is-outlined is-warning\"\r\n          disabled={selection !== null && counter > 0}\r\n        >\r\n          Incomplete\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default ResultOptions;\r\n","import { useStoreState } from \"easy-peasy\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { beepSound } from \"../js/helpers\";\r\n\r\nconst Box = ({ test, setReady, setFree }) => {\r\n  const { id, barcode } = test;\r\n  const [counter, setCounter] = useState(0);\r\n  const [status, setStatus] = useState(\"free\"); // free - counting - finished - overtime\r\n\r\n  const size = useStoreState((state) => state.size);\r\n  const pxWidth = useStoreState((state) => state.pxWidth);\r\n  const cmWidth = useStoreState((state) => state.cmWidth);\r\n  const clock = useStoreState((state) => state.clock);\r\n  const time = useStoreState((state) => state.time);\r\n  const { ready, limit, alarm } = time;\r\n\r\n  const ratio = pxWidth / cmWidth;\r\n  const sizePx = [parseInt(size[0] * ratio), parseInt(size[1] * ratio)];\r\n\r\n  const boxStyle = {\r\n    height: sizePx[1],\r\n    width: sizePx[0],\r\n    minHeight: sizePx[1],\r\n    minWidth: sizePx[0],\r\n  };\r\n\r\n  const handleStart = () => {\r\n    setStatus(\"counting\");\r\n  };\r\n\r\n  const handleStop = () => {\r\n    setStatus(\"free\");\r\n    setCounter(0);\r\n    setReady(id, false);\r\n    setFree(id);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (status !== \"free\") {\r\n      setCounter(counter + 1);\r\n    }\r\n    if (counter >= ready) {\r\n      setStatus(\"finished\");\r\n      setReady(id, true);\r\n    }\r\n    if (counter >= limit) setStatus(\"overtime\");\r\n    if (counter >= alarm) beepSound.play();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [clock]);\r\n\r\n  useEffect(() => {\r\n    if (barcode !== null) handleStart();\r\n    else handleStop();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [barcode]);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={`out-box animate__animated has-background-${\r\n          (status === \"free\" && \"success\") ||\r\n          (status === \"counting\" && \"warning\") ||\r\n          (status === \"finished\" && \"danger\") ||\r\n          (status === \"overtime\" && \"danger\")\r\n        } ${status === \"overtime\" && \"animate__flash animate__infinite\"}`}\r\n      >\r\n        <div\r\n          className={`is-flex is-flex-centered has-background-black is-flex-column`}\r\n          style={boxStyle}\r\n        >\r\n          <p className=\"help is-success box-code is-size-4\">{barcode}</p>\r\n          <div className=\"field is-grouped\">\r\n            <button\r\n              className=\"button m-1 is-small is-rounded\"\r\n              onClick={handleStart}\r\n            >\r\n              {\">\"}\r\n            </button>\r\n            <button\r\n              className=\"button m-1 is-small is-rounded\"\r\n              onClick={handleStop}\r\n            >\r\n              {\"[]\"}\r\n            </button>\r\n            <button className=\"button m-1 is-small is-rounded\">\r\n              {counter}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <progress\r\n          className={`progress is-info mt-2`}\r\n          max={ready}\r\n          value={counter}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Box;\r\n","import { useStoreState } from \"easy-peasy\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faWifi } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Wifi = () => {\r\n  const network = useStoreState((state) => state.network);\r\n\r\n  return (\r\n    <Link to={\"/wifi\"} className=\"wifi\">\r\n      <FontAwesomeIcon\r\n        icon={faWifi}\r\n        className={network ? \"has-text-success\" : \"has-text-grey\"}\r\n      />\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default Wifi;\r\n","import { useStoreActions, useStoreState } from \"easy-peasy\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getDeviceId, sendResult } from \"../js/api\";\r\nimport {\r\n  appendToStorage,\r\n  getSavedStorage,\r\n  removeFromStorage,\r\n} from \"../js/helpers\";\r\nimport Navigator from \"./Navigator\";\r\nimport ResultOptions from \"./ResultOptions\";\r\nimport Box from \"./Box\";\r\nimport Wifi from \"./Wifi\";\r\n\r\nconst Home = () => {\r\n  const boxes = useStoreState((state) => state.boxes);\r\n  const message = useStoreState((state) => state.message);\r\n  const clock = useStoreState((state) => state.clock);\r\n  const network = useStoreState((state) => state.network);\r\n  const setClock = useStoreActions((action) => action.setClock);\r\n  const setMessage = useStoreActions((action) => action.setMessage);\r\n  const setNetwork = useStoreActions((action) => action.setNetwork);\r\n  const elements = [...Array(parseInt(boxes)).keys()];\r\n  const initBoxes = [];\r\n  elements.forEach((element) => {\r\n    initBoxes.push({\r\n      id: element,\r\n      barcode: null,\r\n      ready: false,\r\n      start: null,\r\n    });\r\n  });\r\n\r\n  const [numberCode, setNumberCode] = useState(\"\");\r\n  const [code, setCode] = useState(\"\");\r\n  const [barcode, setBarcode] = useState(\"\");\r\n  const [display, setDisplay] = useState(false);\r\n  const [lastTime, setLastTime] = useState(Date.now());\r\n\r\n  const [testBoxes, setTestBoxes] = useState(initBoxes);\r\n  const [id, setId] = useState(\"\");\r\n\r\n  const setReady = (id, ready) => {\r\n    let tempBoxes = [...testBoxes];\r\n    tempBoxes[id].ready = ready;\r\n  };\r\n\r\n  const setFree = (id) => {\r\n    let tempBoxes = [...testBoxes];\r\n    tempBoxes[id].barcode = null;\r\n    setTestBoxes(tempBoxes);\r\n  };\r\n\r\n  const handleResponse = () => {\r\n    setDisplay(false);\r\n    setMessage(\"\");\r\n    console.log(barcode);\r\n    let target = testBoxes.find((x) => x.barcode === barcode);\r\n    setFree(target.id);\r\n    setReady(target.id, false);\r\n    let end = Date.now();\r\n    return { start: target.start, end };\r\n  };\r\n\r\n  const handleSuccess = (payload) => {\r\n    console.log(\"... data send:\", payload);\r\n    removeFromStorage(\"recorded\", payload, \"barcode\");\r\n  };\r\n\r\n  const handleError = (payload) => {\r\n    console.error(\"... data not send\", payload);\r\n    console.error(\"... save to local storage\", payload);\r\n    appendToStorage(\"recorded\", payload);\r\n  };\r\n\r\n  const handleInvalid = () => {\r\n    const { start, end } = handleResponse();\r\n    const payload = { barcode, result: 3, id, start, end };\r\n    sendResult(payload)\r\n      .then(() => handleSuccess(payload))\r\n      .catch(() => handleError(payload));\r\n  };\r\n  const handlePositive = () => {\r\n    const { start, end } = handleResponse();\r\n    const payload = { barcode, result: 2, id, start, end };\r\n    sendResult(payload)\r\n      .then(() => handleSuccess(payload))\r\n      .catch(() => handleError(payload));\r\n  };\r\n  const handleNegative = () => {\r\n    const { start, end } = handleResponse();\r\n    const payload = { barcode, result: 1, id, start, end };\r\n    sendResult(payload)\r\n      .then(() => handleSuccess(payload))\r\n      .catch(() => handleError(payload));\r\n  };\r\n\r\n  const handleMismatch = () => {\r\n    setDisplay(false);\r\n    setMessage(\"\");\r\n  }\r\n\r\n  useEffect(() => {\r\n    const now = Date.now();\r\n    setCode(`${now - lastTime > 500 ? \"\" : code}${numberCode}`);\r\n    setLastTime(now);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [numberCode]);\r\n\r\n  useEffect(() => {\r\n    const now = Date.now();\r\n    if (now - lastTime > 500 && code !== \"\") {\r\n      setBarcode(code);\r\n      let tempBoxes = [...testBoxes];\r\n      let currentTests = tempBoxes.map((x) => x.barcode);\r\n      let availableBox = currentTests.indexOf(null);\r\n      let isNew = !currentTests.includes(code);\r\n\r\n      if (isNew) {\r\n        setDisplay(false);\r\n        if (availableBox >= 0) {\r\n          testBoxes[availableBox].barcode = code;\r\n          testBoxes[availableBox].start = Date.now();\r\n          setMessage(\"Starting timer for test: \" + code);\r\n        } else {\r\n          setMessage(\"No box available for: \" + code);\r\n        }\r\n      } else {\r\n        let box = testBoxes.find((x) => x.barcode === code);\r\n        if (box.ready) {\r\n          setMessage(`Test ${code} is ready, select an option:`);\r\n          setDisplay(true);\r\n        } else {\r\n          setMessage(`Test ${code} is not ready`);\r\n        }\r\n      }\r\n\r\n      setTestBoxes(tempBoxes);\r\n      setCode(\"\");\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [clock]);\r\n\r\n  useEffect(() => {\r\n    if (network) {\r\n      // Send data recorded in local storage\r\n      let recordedValues = getSavedStorage(\"recorded\", {\r\n        recorded: [],\r\n      });\r\n      console.log(\"Send data from storage\");\r\n      recordedValues.forEach((record) => {\r\n        console.log(\"...sending data:\", record);\r\n        sendResult(record).then(() =>\r\n          removeFromStorage(\"recorded\", record, \"barcode\")\r\n        );\r\n      });\r\n    }\r\n  }, [network]);\r\n\r\n  useEffect(() => {\r\n    getDeviceId().then((res) => setId(res.id));\r\n\r\n    const scannerHandler = (e) => {\r\n      const key = e.key\r\n      const codechars = /\\w/\r\n      if (key.length === 1 && codechars.test(key)) setNumberCode(key);\r\n      if (key === \"F5\") e.preventDefault();\r\n    };\r\n\r\n    const interval = setInterval(() => {\r\n      setClock(Date());\r\n    }, 500);\r\n\r\n    document.addEventListener(\"keydown\", scannerHandler);\r\n    window.addEventListener(\"offline\", () => setNetwork(false));\r\n    window.addEventListener(\"online\", () => setNetwork(true));\r\n    setNetwork(window.navigator.onLine);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", scannerHandler);\r\n      window.removeEventListener(\"offline\", () => setNetwork(false));\r\n      window.removeEventListener(\"online\", () => setNetwork(true));\r\n      clearInterval(interval);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"home-container\">\r\n      <header>\r\n        <p className=\"has-text-centered title mt-4\">{message}</p>\r\n        {display && (\r\n          <ResultOptions\r\n            handleNegative={handleNegative}\r\n            handlePositive={handlePositive}\r\n            handleInvalid={handleInvalid}\r\n            handleMismatch={handleMismatch}\r\n          />\r\n        )}\r\n      </header>\r\n      <div className=\"box-container\">\r\n        {testBoxes.map((x) => (\r\n          <Box key={x.id} test={x} setReady={setReady} setFree={setFree} />\r\n        ))}\r\n        <Navigator\r\n          to=\"/config\"\r\n          onClick={() => console.log(\"Clicked Navigator\")}\r\n        />\r\n        <Wifi />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","const Modal = ({ active, setActive, title, confirm, setAction }) => {\r\n  return (\r\n    <div className={`modal ${active && \"is-active\"}`}>\r\n      <div className=\"modal-background\"></div>\r\n      <div className=\"modal-card\">\r\n        <header className=\"modal-card-head\">\r\n          <p className=\"modal-card-title\">{title}</p>\r\n        </header>\r\n\r\n        <footer className=\"modal-card-foot is-flex-end\">\r\n          <button\r\n            className=\"button is-success is-outlined\"\r\n            onClick={() => setAction()}\r\n          >\r\n            {confirm}\r\n          </button>\r\n          <button className=\"button\" onClick={() => setActive(false)}>\r\n            Cancel\r\n          </button>\r\n        </footer>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { useStoreState, useStoreActions } from \"easy-peasy\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { setSavedStorage } from \"../js/helpers\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { faPowerOff } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { getCommit, getDeviceId } from \"../js/api\";\r\nimport Navigator from \"./Navigator\";\r\nimport Modal from \"./Modal\";\r\n\r\nconst Config = () => {\r\n  let navigate = useNavigate();\r\n  const [message, setMessage] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [power, setPower] = useState(false);\r\n  const [rpiId, setRpiId] = useState(\"\");\r\n  const [commitDate, setCommitDate] = useState(\"\");\r\n\r\n  const pxWidth = useStoreState((state) => state.pxWidth);\r\n  const cmWidth = useStoreState((state) => state.cmWidth);\r\n  const boxes = useStoreState((state) => state.boxes);\r\n  const size = useStoreState((state) => state.size);\r\n  const time = useStoreState((state) => state.time);\r\n\r\n  const setPxWidth = useStoreActions((actions) => actions.setPxWidth);\r\n  const setCmWidth = useStoreActions((actions) => actions.setCmWidth);\r\n  const setBoxes = useStoreActions((actions) => actions.setBoxes);\r\n  const setSize = useStoreActions((actions) => actions.setSize);\r\n  const setTime = useStoreActions((actions) => actions.setTime);\r\n\r\n  const [pxRef, setPxRef] = useState(pxWidth);\r\n  const [cmRef, setCmRef] = useState(cmWidth);\r\n  const [boxesRef, setBoxesRef] = useState(boxes);\r\n  const [sizeRef, setSizeRef] = useState(size);\r\n  const [timeRef, setTimeRef] = useState(time);\r\n\r\n  const handleSave = () => {\r\n    setPxWidth(pxRef);\r\n    setCmWidth(cmRef);\r\n    setBoxes(boxesRef);\r\n    setSize(sizeRef);\r\n    setTime(timeRef);\r\n\r\n    setSavedStorage(\"pxWidth\", pxRef);\r\n    setSavedStorage(\"cmWidth\", cmRef);\r\n    setSavedStorage(\"boxes\", boxesRef);\r\n    setSavedStorage(\"size\", sizeRef);\r\n    setSavedStorage(\"time\", timeRef);\r\n    setMessage(\" ... going home\");\r\n    setLoading(true);\r\n    setTimeout(() => navigate(\"/home\"), 1000);\r\n  };\r\n\r\n  const handlePower = () => {\r\n    console.log(\"... powering off\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    getDeviceId().then((res) => setRpiId(res.id));\r\n    getCommit().then((res) => setCommitDate(res.commit.date));\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Navigator to=\"/home\" />\r\n      <div className=\"is-flex is-flex-centered config\">\r\n        <div>\r\n          <h1 className=\"subtitle has-text-centered\">Configuration</h1>\r\n          <div className=\"field\">\r\n            <label className=\"label\">Number of boxes</label>\r\n            <div className=\"control\">\r\n              <input\r\n                className=\"input\"\r\n                type=\"number\"\r\n                placeholder=\"10\"\r\n                value={boxesRef}\r\n                onChange={(e) => setBoxesRef(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"field\">\r\n            <label className=\"label\">Width of screen in pixels.</label>\r\n            <div className=\"control\">\r\n              <input\r\n                className=\"input\"\r\n                type=\"number\"\r\n                placeholder=\"1366\"\r\n                value={pxRef}\r\n                onChange={(e) => setPxRef(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"field\">\r\n            <label className=\"label\">Width of screen in centimeters.</label>\r\n            <div className=\"control\">\r\n              <input\r\n                className=\"input\"\r\n                type=\"number\"\r\n                placeholder=\"41\"\r\n                value={cmRef}\r\n                onChange={(e) => setCmRef(e.target.value)}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"field\">\r\n            <label className=\"label\">Size of box in cm.</label>\r\n            <div className=\"control is-flex\">\r\n              <input\r\n                className=\"input\"\r\n                type=\"number\"\r\n                placeholder=\"7\"\r\n                value={sizeRef[0]}\r\n                onChange={(e) => setSizeRef([e.target.value, sizeRef[1]])}\r\n                title=\"Width\"\r\n              />\r\n              <input\r\n                className=\"input ml-4\"\r\n                type=\"number\"\r\n                placeholder=\"2\"\r\n                value={sizeRef[1]}\r\n                onChange={(e) => setSizeRef([sizeRef[0], e.target.value])}\r\n                title=\"Height\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"field\">\r\n            <label className=\"label\">Process time in min.</label>\r\n            <div className=\"control is-flex\">\r\n              <input\r\n                className=\"input\"\r\n                type=\"number\"\r\n                placeholder=\"15\"\r\n                value={timeRef.ready}\r\n                title=\"Ready to read time\"\r\n                onChange={(e) =>\r\n                  setTimeRef({ ...timeRef, ready: e.target.value })\r\n                }\r\n              />\r\n              <input\r\n                className=\"input ml-4\"\r\n                type=\"number\"\r\n                placeholder=\"19\"\r\n                value={timeRef.alarm}\r\n                title=\"Alarm time\"\r\n                onChange={(e) =>\r\n                  setTimeRef({ ...timeRef, alarm: e.target.value })\r\n                }\r\n              />\r\n              <input\r\n                className=\"input ml-4\"\r\n                type=\"number\"\r\n                placeholder=\"20\"\r\n                value={timeRef.limit}\r\n                title=\"Maximum time to get reading\"\r\n                onChange={(e) =>\r\n                  setTimeRef({ ...timeRef, limit: e.target.value })\r\n                }\r\n              />\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={handleSave}\r\n            className={`button is-success is-outlined mt-4 ${\r\n              loading && \"is-loading\"\r\n            }`}\r\n          >\r\n            Save\r\n          </button>\r\n          <p className=\"help\">{message}</p>\r\n          <div className=\"is-flex is-flex-centered m-4 \">\r\n            <FontAwesomeIcon\r\n              icon={faPowerOff}\r\n              className=\"has-text-danger pointer\"\r\n              size=\"lg\"\r\n              onClick={() => setPower(true)}\r\n            />\r\n            <Modal\r\n              active={power}\r\n              setActive={setPower}\r\n              setAction={handlePower}\r\n              title=\"Do you want to shutdown?\"\r\n              confirm=\"Shutdown\"\r\n            />\r\n          </div>\r\n          <div className=\"is-flex mt-4 is-flex-between\">\r\n            <p className=\"has-text-grey mt-4\">ID: {rpiId}</p>\r\n            <p className=\"has-text-grey mt-4\">Version: {commitDate}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Config;\r\n","import Navigator from \"./Navigator\";\r\nimport { useRef, useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { networkSave, networkScan } from \"../js/api\";\r\n\r\nconst WifiConfig = () => {\r\n  let navigate = useNavigate();\r\n  const [loading, setLoading] = useState(false);\r\n  const [networks, setNetworks] = useState([]);\r\n  const ssidRef = useRef();\r\n  const passRef = useRef();\r\n\r\n  const handleSave = () => {\r\n    setLoading(true);\r\n    networkSave(ssidRef.current.value, passRef.current.value);\r\n    setTimeout(() => navigate(\"/home\"), 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    networkScan().then((res) => setNetworks(res.networks));\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Navigator to=\"/home\" />\r\n      <div className=\"is-flex is-flex-centered config\">\r\n        <div>\r\n          <h1 className=\"subtitle has-text-centered\">Wifi Configuration</h1>\r\n          <div className=\"field\">\r\n            <label className=\"label\">SSID</label>\r\n            <div className=\"control\">\r\n              <input\r\n                className=\"input\"\r\n                type=\"text\"\r\n                placeholder=\"WiFi SSID\"\r\n                ref={ssidRef}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"field\">\r\n            <label className=\"label\">Password</label>\r\n            <div className=\"control\">\r\n              <input\r\n                className=\"input\"\r\n                type=\"text\"\r\n                placeholder=\"********\"\r\n                ref={passRef}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            onClick={handleSave}\r\n            className={`button is-success is-outlined mt-4 ${\r\n              loading && \"is-loading\"\r\n            }`}\r\n          >\r\n            Save\r\n          </button>\r\n          <p className=\"help\">{\"\"}</p>\r\n          <p className=\"mt-4 has-text-centered\">Available networks</p>\r\n          <table className=\"table is-striped is-fullwidth\">\r\n            <thead>\r\n              <tr>\r\n                <th> SSID </th>\r\n                <th> SNR </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {networks.map((n) => (\r\n                <tr>\r\n                  <td>{n.ssid}</td>\r\n                  <td>{n.snr}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WifiConfig;\r\n","import { Routes, Route } from \"react-router-dom\";\r\nimport { StoreProvider, createStore } from \"easy-peasy\";\r\nimport model from \"../js/model\";\r\nimport Home from \"./Home\";\r\nimport Config from \"./Config\";\r\nimport WifiConfig from \"./WifiConfig\";\r\n\r\nconst store = createStore(model);\r\n\r\nconst App = () => {\r\n  return (\r\n    <div>\r\n      <StoreProvider store={store}>\r\n        <Routes>\r\n          <Route path=\"home\" element={<Home />} />\r\n          <Route path=\"config\" element={<Config />} />\r\n          <Route path=\"wifi\" element={<WifiConfig />} />\r\n          <Route path=\"*\" element={<Home />} />\r\n        </Routes>\r\n      </StoreProvider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"./css/bulma-darkly.css\";\r\nimport \"./css/style.css\";\r\nimport \"animate.css\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}